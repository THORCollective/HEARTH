<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HEARTH - Threat Hunting Exchange</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B4FE1Q174V"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-B4FE1Q174V');
    </script>
</head>
<body>
    <header>
        <div class="header-content">
            <a href="index.html" class="logo-link">
                <img src="Assets/HEARTH-logo.png" alt="HEARTH Logo" class="logo"/>
                <div class="title-section">
                    <p class="eyebrow">THOR Collective</p>
                    <h1>HEARTH</h1>
                    <p>Hunting Exchange and Research Threat Hub</p>
                </div>
            </a>
            <div class="header-links">
                <a href="submit.html" class="btn btn-accent"><span class="btn-icon">üìù</span>Submit a Hunt</a>
                <a href="https://github.com/THORCollective/HEARTH" target="_blank" class="btn btn-ghost"><span class="btn-icon">üåê</span>View on GitHub</a>
            </div>
        </div>
    </header>
    
    <main>
        <section class="intro">
            <div class="intro-content">
                <h2>Threat Hunting Database</h2>
                <p>Explore curated threat hunting ideas organized using the PEAK threat hunting framework.</p>
                <div class="intro-meta">
                    <span class="meta-pill">Live library</span>
                    <span class="meta-pill">Community powered</span>
                    <span class="meta-pill">PEAK aligned</span>
                </div>
                <div class="intro-highlights" aria-live="polite">
                    <article class="highlight-card">
                        <span class="highlight-label">Hunts cataloged</span>
                        <span class="highlight-value" id="introTotalHunts">0</span>
                        <span class="highlight-sub">Across all categories</span>
                    </article>
                    <article class="highlight-card">
                        <span class="highlight-label">Distinct tactics</span>
                        <span class="highlight-value" id="introTotalTactics">0</span>
                        <span class="highlight-sub">MITRE ATT&CK coverage</span>
                    </article>
                    <article class="highlight-card">
                        <span class="highlight-label">Community authors</span>
                        <span class="highlight-value" id="introTotalContributors">0</span>
                        <span class="highlight-sub">Sharing research insights</span>
                    </article>
                </div>
            </div>
        </section>

        <section class="controls">
            <div class="controls-top">
                <div class="search-container">
                    <label for="searchInput" class="visually-hidden">Search hunts</label>
                    <div class="search-wrapper">
                        <span class="search-icon">üîç</span>
                        <input type="text" id="searchInput" placeholder="Search hunts by title, tactic, tags, or submitter..." class="search-input" autocomplete="off">
                        <button id="clearSearch" class="clear-btn" type="button">Clear</button>
                    </div>
                    <p class="search-hint">Tip: try "persistence baseline" or "LOLBIN"</p>
                </div>
                <div class="stats">
                    <span id="huntCount" class="hunt-count">Loading hunts...</span>
                    <span id="resultMeta" class="result-meta"></span>
                    <span id="searchFeedback" class="search-feedback" role="status" aria-live="polite"></span>
                </div>
            </div>

            <div class="active-filters" id="activeFilters" aria-live="polite"></div>

            <div class="controls-middle">
                <div class="quick-filter">
                    <label for="categoryFilter">Category</label>
                    <select id="categoryFilter" class="filter-select">
                        <option value="">All categories</option>
                        <option value="Flames">Flames</option>
                        <option value="Embers">Embers</option>
                        <option value="Alchemy">Alchemy</option>
                    </select>
                </div>
                <div class="quick-filter">
                    <label for="sortHunts">Sort</label>
                    <select id="sortHunts" class="filter-select">
                        <option value="id-desc">Newest hunts</option>
                        <option value="id-asc">Oldest hunts</option>
                        <option value="title-asc">Title A ‚Üí Z</option>
                        <option value="title-desc">Title Z ‚Üí A</option>
                        <option value="category-asc">Category A ‚Üí Z</option>
                    </select>
                </div>
                <button id="toggleAdvancedFilters" class="btn btn-ghost" type="button">
                    <span class="btn-icon">‚öôÔ∏è</span> Advanced filters
                </button>
            </div>

            <div class="advanced-filters" id="advancedFilters">
                <div class="advanced-filters__section">
                    <div class="section-header">
                        <h3>Tactics</h3>
                        <button class="btn btn-chip" id="clearTactics" type="button">Clear</button>
                    </div>
                    <div id="tacticChips" class="chip-group" role="group" aria-label="Filter by tactic"></div>
                </div>
                <div class="advanced-filters__section">
                    <div class="section-header">
                        <h3>Tags</h3>
                        <button class="btn btn-chip" id="clearTags" type="button">Clear</button>
                    </div>
                    <div id="tagChips" class="chip-group" role="group" aria-label="Filter by tag"></div>
                </div>
                <div class="advanced-filters__section presets">
                    <div class="section-header">
                        <h3>Saved views</h3>
                        <div class="preset-actions">
                            <button class="btn btn-chip" id="savePreset" type="button">Save current</button>
                            <button class="btn btn-chip" id="deletePreset" type="button">Delete</button>
                        </div>
                    </div>
                    <div class="preset-row">
                        <label for="presetSelect" class="visually-hidden">Saved filter presets</label>
                        <select id="presetSelect" class="filter-select">
                            <option value="">Select a preset...</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>

        <section class="hunts-container">
            <div id="huntsGrid" class="hunts-grid">
                <!-- Hunts will be loaded here dynamically -->
            </div>
        </section>

        <nav class="pagination" id="pagination" aria-label="Hunt results pagination">
            <button class="pagination-btn" id="prevPage" type="button" aria-label="Previous page">‚óÄ</button>
            <span id="paginationInfo" class="pagination-info"></span>
            <button class="pagination-btn" id="nextPage" type="button" aria-label="Next page">‚ñ∂</button>
        </nav>

        <section class="loading" id="loading">
            <div class="spinner"></div>
            <p>Loading hunts...</p>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 THOR Collective | <a href="https://github.com/THORCollective/HEARTH">GitHub Repository</a></p>
    </footer>

    <script src="hunts-data.js"></script>
    <script src="app.js"></script>
    <script src="chat-widget.js"></script>
</body>
</html>
